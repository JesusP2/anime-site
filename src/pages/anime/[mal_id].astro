---
import MainLayout from "@/layout/main.astro";

import AnimePage from "@/components/anime.page.astro";
import { getAnime } from "@/lib/anime/queries";
const mal_id = parseInt(Astro.params.mal_id || "0");
const userId = Astro.locals.user?.id
const anime = await getAnime(Number(mal_id), userId);
---

<MainLayout title="title">
  {anime.success ? <AnimePage anime={anime.value} user={Astro.locals.user} /> : <div>Error</div>}
</MainLayout>
