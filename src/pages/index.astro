---
import Head from "@/components/head.astro";
import LandingPage from "@/components/landing/index.astro";
import PlanesNear from "@/components/planes-near.astro";
import PlanesFar from "@/components/planes-far.astro";
import ThemeButton from "@/components/theme-button/landing.astro";
const isDarkMode = Astro.cookies.get("theme")?.value === "dark";
Astro.response.headers.set('Cloudflare-CDN-Cache-Control', 'max-age=86400');
---

<html lang="en" class={isDarkMode ? "dark" : ""}>
  <Head title={"NotMyAnimeList"} description={"description"} />
  <body
    class="bg-[url('/landing/light/sky.avif')] dark:bg-[url('/landing/night/sky.avif')] bg-no-repeat bg-cover overflow-hidden h-screen relative"
  >
    <div class="texture" style="view-transition-name: page-texture"></div>
    <ThemeButton isDarkMode={isDarkMode} />
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-10" style="view-transition-name: landing-layer-1">
      <div
        class="bg-[url('/landing/light/cloud2.avif')] dark:bg-[url('/landing/night/cloud2.avif')] bg-no-repeat bg-cover overflow-hidden absolute top-0 left-0 w-full h-full z-10 clouds-2"
      >
      </div>
      <div
        class="bg-[url('/landing/light/cloud2.avif')] dark:bg-[url('/landing/night/cloud2.avif')] bg-no-repeat bg-cover overflow-hidden absolute top-0 left-0 w-full h-full z-10 clouds"
      >
      </div>
    </div>
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-10">
      <PlanesFar />
    </div>
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-10" style="view-transition-name: landing-layer-5">
      <div
        class="bg-[url('/landing/light/cloud1.avif')] dark:bg-[url('/landing/night/cloud1.avif')] bg-no-repeat bg-cover overflow-hidden absolute top-0 left-0 w-full h-full z-10 clouds-2"
      >
      </div>
      <div
        class="bg-[url('/landing/light/cloud1.avif')] dark:bg-[url('/landing/night/cloud1.avif')] bg-no-repeat bg-cover overflow-hidden absolute top-0 left-0 w-full h-full z-10 clouds"
      >
      </div>
    </div>
    <div
      class="bg-[url('/landing/light/bg2.avif')] dark:bg-[url('/landing/night/bg2.avif')] bg-no-repeat bg-cover overflow-hidden absolute top-0 left-0 w-full h-full z-20"
      style="view-transition-name: landing-layer-2"
    >
    </div>
    <div class="absolute inset-0 overflow-hidden pointer-events-none z-30">
      <PlanesNear />
    </div>
    <div
      class="bg-[url('/landing/light/bg1.avif')] dark:bg-[url('/landing/night/bg1.avif')] bg-no-repeat bg-cover overflow-hidden absolute top-0 left-0 w-full h-full z-40"
      style="view-transition-name: landing-layer-4"
    >
      <LandingPage />
    </div>
    <script>
      import { createCloudAnimations } from "@/lib/animations/clouds";
      const clouds1 = document.querySelectorAll(".clouds");
      const clouds2 = document.querySelectorAll(".clouds-2");
      createCloudAnimations(clouds1, clouds2);
      console.log('running x3')
    </script>
  </body>
</html>
