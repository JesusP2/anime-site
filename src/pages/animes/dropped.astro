---
import MainLayout from "@/layout/main.astro";
import { getAnimeRecordsByStatus } from "@/lib/anime/data-access";
import { AnimesWithStatusPage } from "@/components/anime-with-status.page";

const entityStatus = "droppped";
const { animesCount, animeRecords } =
  await getAnimeRecordsByStatus(Astro, entityStatus);
---

<MainLayout title="title">
  <AnimesWithStatusPage
    title="Animes dropped"
    url={new URL(Astro.url)}
    records={animeRecords}
    count={animesCount}
    entityStatus={entityStatus}
    user={Astro.locals.user}
    client:load
  />
</MainLayout>
